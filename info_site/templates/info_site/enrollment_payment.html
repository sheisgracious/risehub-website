{% extends "info_site/base.html" %}
{% load static %}

{% block content %}
<section class="container" style="padding: 60px 0;">
    <div style="max-width: 700px; margin: 0 auto;">
        
        <!-- Success Header -->
        <div style="background: linear-gradient(135deg, var(--success), #2ecc71); color: white; padding: 40px; border-radius: 10px; margin-bottom: 30px; text-align: center;">
            <div style="font-size: 4rem; margin-bottom: 15px;">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2 style="margin-bottom: 10px;">Enrollment Successful!</h2>
            <p style="margin: 0; opacity: 0.9;">You're one step closer to mastering digital literacy</p>
        </div>
        
        <!-- Enrollment Summary -->
        <div style="background: white; padding: 30px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); margin-bottom: 30px;">
            <h3 style="color: var(--dark); margin-bottom: 25px; text-align: center;">
                <i class="fas fa-file-invoice" style="color: var(--primary);"></i>
                Enrollment Summary
            </h3>
            
            <div style="border: 2px solid var(--light); border-radius: 10px; padding: 25px;">
                <div style="margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid var(--gray);">
                    <div style="color: var(--text-light); font-size: 0.9rem; margin-bottom: 5px;">Course</div>
                    <div style="font-size: 1.2rem; font-weight: 600; color: var(--dark);">{{ course.title }}</div>
                </div>
                
                <div style="margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid var(--gray);">
                    <div style="color: var(--text-light); font-size: 0.9rem; margin-bottom: 5px;">Cohort</div>
                    <div style="font-weight: 600; color: var(--dark);">{{ cohort.name }}</div>
                    <div style="color: var(--text-light); font-size: 0.9rem; margin-top: 5px;">
                        <i class="fas fa-calendar"></i> 
                        {{ cohort.start_date|date:"F d, Y" }} - {{ cohort.end_date|date:"F d, Y" }}
                    </div>
                </div>
                
                <div style="margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid var(--gray);">
                    <div style="color: var(--text-light); font-size: 0.9rem; margin-bottom: 5px;">Student</div>
                    <div style="font-weight: 600; color: var(--dark);">{{ user.get_full_name }}</div>
                    <div style="color: var(--text-light); font-size: 0.9rem;">{{ user.email }}</div>
                </div>
                
                <div style="display: flex; justify-content: space-between; align-items: center; background-color: var(--light); padding: 20px; border-radius: 5px;">
                    <div>
                        <div style="color: var(--text-light); font-size: 0.9rem;">Total Amount Due</div>
                        <div style="font-size: 2rem; font-weight: 700; color: var(--primary);">GHS {{ course.price }}</div>
                    </div>
                    <div style="text-align: right;">
                        <div style="padding: 8px 20px; background-color: var(--warning); color: white; border-radius: 20px; font-weight: 600;">
                            Payment Pending
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Payment Options -->
        <div style="background: white; padding: 30px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); margin-bottom: 30px;">
            <h3 style="color: var(--dark); margin-bottom: 25px; text-align: center;">
                <i class="fas fa-credit-card" style="color: var(--primary);"></i>
                Payment Options
            </h3>
            
            <form method="post">
                {% csrf_token %}
                
                <div style="display: grid; gap: 15px; margin-bottom: 25px;">
                    <!-- Mobile Money -->
                    <label style="display: block; padding: 20px; border: 2px solid var(--gray); border-radius: 10px; cursor: pointer; transition: all 0.3s;" 
                           onmouseover="this.style.borderColor='var(--primary)'" 
                           onmouseout="if(!this.querySelector('input').checked) this.style.borderColor='var(--gray)'">
                        <input type="radio" name="payment_method" value="mobile_money" 
                               style="margin-right: 15px;" 
                               onchange="this.parentElement.parentElement.querySelectorAll('label').forEach(l => {l.style.borderColor='var(--gray)'; l.style.backgroundColor='white';}); this.parentElement.style.borderColor='var(--primary)'; this.parentElement.style.backgroundColor='var(--light)';"
                               checked />
                        <div style="display: inline-block;">
                            <div style="font-weight: 600; color: var(--dark); font-size: 1.1rem; margin-bottom: 5px;">
                                <i class="fas fa-mobile-alt" style="color: var(--primary);"></i>
                                Mobile Money
                            </div>
                            <div style="color: var(--text-light); font-size: 0.9rem;">
                                MTN Mobile Money, Vodafone Cash, AirtelTigo Money
                            </div>
                        </div>
                    </label>
                    
                    <!-- Bank Transfer -->
                    <label style="display: block; padding: 20px; border: 2px solid var(--gray); border-radius: 10px; cursor: pointer; transition: all 0.3s;" 
                           onmouseover="this.style.borderColor='var(--primary)'" 
                           onmouseout="if(!this.querySelector('input').checked) this.style.borderColor='var(--gray)'">
                        <input type="radio" name="payment_method" value="bank_transfer" 
                               style="margin-right: 15px;" 
                               onchange="this.parentElement.parentElement.querySelectorAll('label').forEach(l => {l.style.borderColor='var(--gray)'; l.style.backgroundColor='white';}); this.parentElement.style.borderColor='var(--primary)'; this.parentElement.style.backgroundColor='var(--light)';" />
                        <div style="display: inline-block;">
                            <div style="font-weight: 600; color: var(--dark); font-size: 1.1rem; margin-bottom: 5px;">
                                <i class="fas fa-university" style="color: var(--primary);"></i>
                                Bank Transfer
                            </div>
                            <div style="color: var(--text-light); font-size: 0.9rem;">
                                Direct bank transfer to our account
                            </div>
                        </div>
                    </label>
                    
                    <!-- Cash Payment -->
                    <label style="display: block; padding: 20px; border: 2px solid var(--gray); border-radius: 10px; cursor: pointer; transition: all 0.3s;" 
                           onmouseover="this.style.borderColor='var(--primary)'" 
                           onmouseout="if(!this.querySelector('input').checked) this.style.borderColor='var(--gray)'">
                        <input type="radio" name="payment_method" value="cash" 
                               style="margin-right: 15px;" 
                               onchange="this.parentElement.parentElement.querySelectorAll('label').forEach(l => {l.style.borderColor='var(--gray)'; l.style.backgroundColor='white';}); this.parentElement.style.borderColor='var(--primary)'; this.parentElement.style.backgroundColor='var(--light)';" />
                        <div style="display: inline-block;">
                            <div style="font-weight: 600; color: var(--dark); font-size: 1.1rem; margin-bottom: 5px;">
                                <i class="fas fa-money-bill-wave" style="color: var(--primary);"></i>
                                Cash Payment
                            </div>
                            <div style="color: var(--text-light); font-size: 0.9rem;">
                                Pay in person at our office
                            </div>
                        </div>
                    </label>
                </div>
                
                <div style="padding: 20px; background-color: #fff3cd; border: 1px solid #ffeaa7; border-radius: 5px; color: #856404; margin-bottom: 25px;">
                    <i class="fas fa-info-circle"></i>
                    <strong>Important:</strong> After submitting your payment preference, our team will contact you within 24 hours with payment instructions and to schedule your technology assessment call.
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%; padding: 18px; font-size: 1.2rem;">
                    <i class="fas fa-arrow-right"></i> Submit Payment Preference
                </button>
            </form>
        </div>
        
        <!-- Next Steps -->
        <div style="background: white; padding: 30px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
            <h3 style="color: var(--dark); margin-bottom: 20px; text-align: center;">
                <i class="fas fa-tasks" style="color: var(--primary);"></i>
                What Happens Next
            </h3>
            
            <div style="display: grid; gap: 20px;">
                <div style="display: flex; gap: 15px;">
                    <div style="flex-shrink: 0; width: 35px; height: 35px; background-color: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.9rem;">1</div>
                    <div>
                        <strong style="color: var(--dark);">We'll Contact You (Within 24 Hours)</strong>
                        <p style="color: var(--text-light); margin: 5px 0 0 0; font-size: 0.95rem;">Our team will reach out via phone or email with payment instructions based on your selected method.</p>
                    </div>
                </div>
                
                <div style="display: flex; gap: 15px;">
                    <div style="flex-shrink: 0; width: 35px; height: 35px; background-color: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.9rem;">2</div>
                    <div>
                        <strong style="color: var(--dark);">Complete Your Payment (Within 3 Days)</strong>
                        <p style="color: var(--text-light); margin: 5px 0 0 0; font-size: 0.95rem;">Follow the instructions to complete your GHS 150 payment.</p>
                    </div>
                </div>
                
                <div style="display: flex; gap: 15px;">
                    <div style="flex-shrink: 0; width: 35px; height: 35px; background-color: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.9rem;">3</div>
                    <div>
                        <strong style="color: var(--dark);">Technology Assessment Call</strong>
                        <p style="color: var(--text-light); margin: 5px 0 0 0; font-size: 0.95rem;">We'll schedule a free 15-minute call to understand your current tech skill level and answer questions.</p>
                    </div>
                </div>
                
                <div style="display: flex; gap: 15px;">
                    <div style="flex-shrink: 0; width: 35px; height: 35px; background-color: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.9rem;">4</div>
                    <div>
                        <strong style="color: var(--dark);">Access Course Materials</strong>
                        <p style="color: var(--text-light); margin: 5px 0 0 0; font-size: 0.95rem;">Once payment is confirmed, you'll get access to your student portal and course materials.</p>
                    </div>
                </div>
                
                <div style="display: flex; gap: 15px;">
                    <div style="flex-shrink: 0; width: 35px; height: 35px; background-color: var(--success); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.9rem;">
                        <i class="fas fa-check"></i>
                    </div>
                    <div>
                        <strong style="color: var(--dark);">Start Learning!</strong>
                        <p style="color: var(--text-light); margin: 5px 0 0 0; font-size: 0.95rem;">Join your first class on {{ cohort.start_date|date:"F d, Y" }}!</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Contact -->
        <div style="margin-top: 30px; text-align: center; padding: 25px; background-color: var(--light); border-radius: 10px;">
            <p style="color: var(--text); margin-bottom: 15px;">
                <strong>Questions about payment?</strong>
            </p>
            <p style="color: var(--text-light); margin-bottom: 15px;">
                Email: <a href="mailto:info@risehub.site" style="color: var(--primary);">info@risehub.site</a> | Mon-Fri: 10AM - 7PM
            </p>
            <a href="{% url 'student_dashboard' %}" class="btn btn-outline" style="text-decoration: none;">
                <i class="fas fa-arrow-left"></i> Go to Dashboard
            </a>
        </div>
    </div>
</section>
{% endblock content %}